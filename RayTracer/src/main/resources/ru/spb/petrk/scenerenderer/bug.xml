<?xml version="1.0" encoding="UTF-8"?>

<scene>
    
    <!-- CSG with cow -->
<!--    <camera>
        <pos x="14" y="0" z="4"/>
        <up  x="0" y="1" z="0"/>
        <look_at x="0" y="0" z="0"/>
        <fov_x>0.75</fov_x>
        <fov_y>0.75</fov_y>
        <dist_to_near_plane>1</dist_to_near_plane>
    </camera>
   
    <light>
        <pos x="16" y="16" z="4"/>
    </light>
    
    <object>
        <csg_operation>
            <name>intersection</name>
            <csg_object>
                <model file_name="classpath:/ru/spb/petrk/scenerenderer/model.obj" />
                <material>
                    <ambient  x="0.3" y="0" z="0"/>
                    <diffuse  x="0.98" y="0.48" z="0.4"/>
                    <specular x="0.4" y="0.5" z="0.6"/>
                    <specular_power>128</specular_power>
                    <reflection_power>0</reflection_power>
                    <refractive_index>1</refractive_index>
                    <transparency>-1</transparency>
                </material>                     
            </csg_object>
            <csg_object>
                <sphere>
                    <center x="4.7" y="2" z="0"/>
                    <radius>1</radius>
                </sphere>
                <material>
                    <ambient  x="0.3" y="0.3" z="0"/>
                    <diffuse  x="0.98" y="0.98" z="0.2"/>
                    <specular x="0.4" y="0.5" z="0.6"/>
                    <specular_power>128</specular_power>
                    <reflection_power>0</reflection_power>
                    <refractive_index>1</refractive_index>
                    <transparency>-1</transparency>
                </material>                  
            </csg_object>            
        </csg_operation> 
    </object>-->
    
    <camera>
        <pos x="3" y="5" z="2"/>
        <up  x="0" y="0" z="1"/>
        <look_at x="0" y="0" z="0"/>
        <fov_x>0.75</fov_x>
        <fov_y>0.75</fov_y>
        <dist_to_near_plane>1</dist_to_near_plane>               
    </camera>
   
    <light>
        <pos x="0" y="4" z="1"/>
    </light>
   
<!--    <light>
        <pos x="0" y="0" z="-4"/>
    </light>-->
   
    
    <object>
        <csg_operation>
            <name>intersection</name>
            <csg_operation>
                <name>subtraction</name>
                <csg_operation>
                    <name>subtraction</name>
                    <csg_operation>
                        <name>subtraction</name>
                        <csg_object>
                            <sphere>
                                <center x="0" y="0" z="0"/>
                                <radius>1</radius>
                            </sphere>                
                            <material>
                                <ambient  x="0.3" y="0" z="0"/>
                                <diffuse  x="0.98" y="0.48" z="0.4"/>
                                <specular x="0.4" y="0.5" z="0.6"/>
                                <specular_power>128</specular_power>
                                <reflection_power>0</reflection_power>
                                <refractive_index>1</refractive_index>
                                <transparency>-1</transparency>
                            </material>                     
                        </csg_object>
                        <csg_object>
                            <sphere>
                                <center x="0" y="1" z="1"/>
                                <radius>1</radius>
                            </sphere>
                            <material>
                                <ambient  x="0" y="0" z="0"/>
                                <diffuse  x="0.4" y="0.96" z="0.6"/>
                                <specular x="0.5" y="0.3" z="0.1"/>
                                <specular_power>64</specular_power>
                                <reflection_power>0.4</reflection_power>
                                <refractive_index>1</refractive_index>
                                <transparency>-1</transparency>                           
                            </material>              
                        </csg_object>            
                    </csg_operation>
                    <csg_object>
                        <sphere>
                            <center x="1" y="1" z="0"/>
                            <radius>1</radius>
                        </sphere>
                        <material>
                            <ambient  x="0.3" y="0.3" z="0"/>
                            <diffuse  x="0.98" y="0.98" z="0.2"/>
                            <specular x="0.4" y="0.5" z="0.6"/>
                            <specular_power>128</specular_power>
                            <reflection_power>0</reflection_power>
                            <refractive_index>1</refractive_index>
                            <transparency>-1</transparency>
                        </material>                  
                    </csg_object>            
                </csg_operation>    
                <csg_object>
                    <sphere>
                        <center x="-1" y="1" z="0"/>
                        <radius>1</radius>
                    </sphere>                
                    <material>
                        <ambient  x="0" y="0" z="0"/>
                        <diffuse  x="0.7" y="0.7" z="0.7"/>
                        <specular x="0.2" y="0.2" z="0.2"/>
                        <specular_power>64</specular_power>
                        <reflection_power>0.2</reflection_power>
                        <refractive_index>1</refractive_index>
                        <transparency>-1</transparency>
                    </material>                    
                </csg_object>                
            </csg_operation>
            <csg_object>
                <torus>
                    <center x="0" y="0" z="0"/>
                    <norm x="0" y="1" z="1"/>
                    <inner_radius>0.7</inner_radius>
                    <outer_radius>1</outer_radius>
                </torus>                
                <material>
                    <ambient  x="0" y="0" z="0"/>
                    <diffuse  x="0.4" y="0.96" z="0.6"/>
                    <specular x="0.5" y="0.3" z="0.1"/>
                    <specular_power>64</specular_power>
                    <reflection_power>0.4</reflection_power>
                    <refractive_index>1</refractive_index>
                    <transparency>-1</transparency>                           
                </material>                      
            </csg_object>                
        </csg_operation>
    </object>
    
    <!-- Plane -->   
    <object>
        <plane>
            <point x="0" y="0" z="0"/>
            <norm x="0" y="0" z="1"/>
        </plane>
        <material>
            <ambient  x="0" y="0" z="0"/>
            <diffuse  x="0.7" y="0.7" z="0.7"/>
            <specular x="0.0" y="0.0" z="0.0"/>
            <specular_power>64</specular_power>
            <reflection_power>0.5</reflection_power>
            <refractive_index>0</refractive_index>
            <transparency>-1</transparency>
        </material>      
    </object>    
    
   
</scene>